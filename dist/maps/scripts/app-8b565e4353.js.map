{"version":3,"sources":["scripts/app.js"],"names":["angular","module","factory","$http","common","SarusFetch","this","items","busy","index","prototype","nextPage","id","url","URL","get","success","data","push","bind","directive","$window","restrict","scope","updateUrl","link","el","attr","inviewPort","rect","getBoundingClientRect","bottom","top","window","innerHeight","win","element","e","console","log","replace","item","sarusTemplate","templateUrl","attrs","$timeout","callback","distance","disabled","elem","onScroll","oldValue","newValue","windowHeight","elementBottom","offsetTop","offsetHeight","windowBottom","scrollY","pageYOffset","remaining","shouldGetMore","parseInt","$watch","isDisabled","$on","unbind","adInfo","adClientId","adSlotId","controller","$scope","clientId","adsbygoogle","constant","numberOfRecordsPerPage","config","$locationProvider","html5Mode","$stateProvider","introState","name","state","$sce","vm","trustAsHtml","pageNumber","nids","nid","sarus","run","$templateCache","put"],"mappings":"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","file":"scripts/app-8b565e4353.js","sourcesContent":["(function(angular) {\n  angular.module('sarusApp', [\n    'ui.router'\n  ]);\n})(angular)\n\n(function(module) {\n  module.factory('SarusFetch', function($http, common) {\n    var SarusFetch = function() {\n      this.items = [];\n      this.busy = false;\n      this.index = 0;\n    };\n\n    SarusFetch.prototype.nextPage = function(id) {\n      if (this.busy) return;\n      this.busy = true;\n      var url = common.URL + (id || '');\n      $http.get(url).success(function(data) {\n        this.items.push(data[0])\n        this.busy = false;\n        this.index++;\n      }.bind(this));\n    };\n\n    return SarusFetch;\n  });\n})(angular.module('sarusApp'));\n\n(function(angular) {\n  angular.module('sarusApp').directive('updateUrl', function($window) {\n    return {\n      restrict: 'A',\n      scope: {\n        updateUrl: '@'\n      },\n      link: function(scope, el, attr) {\n        var inviewPort = function(el) {\n          var rect = el[0].getBoundingClientRect();\n          return rect.bottom < 0 || rect.top > window.innerHeight;\n        }\n        var win = angular.element($window);\n        win.bind('scroll', function(e) {\n          console.log(inviewPort(el))\n        })\n      }\n    };\n  });\n})(angular);\n\n(function(angular) {\n  angular.module('sarusApp')\n    .directive('sarusContainer', function() {\n      return {}\n    })\n    .directive('sarusItem', function() {\n      return {\n        restrict: 'E',\n        replace: true,\n        scope: {\n          item: '=',\n          sarusTemplate: '@'\n        },\n        templateUrl: 'app/directive/sarus-item.tpl.html',\n        link: function(scope, el, attrs) {}\n      }\n    })\n})(angular)\n\n(function(angular) {\n  angular.module('sarusApp')\n    .directive('infiniteScroll', function(\n      $window, $timeout) {\n      return {\n        scope: {\n          callback: '&infiniteScroll',\n          distance: '=infiniteScrollDistance',\n          disabled: '=infiniteScrollDisabled'\n        },\n        link: function(scope, elem, attrs) {\n          var win = angular.element($window);\n\n          var onScroll = function(oldValue, newValue) {\n            if (scope.disabled) {\n              return;\n            }\n            var windowHeight = win[0].innerHeight;\n            var elementBottom = elem[0].offsetTop + elem[0].offsetHeight;\n            var windowBottom = windowHeight + (win[0].scrollY || win[\n              0].pageYOffset);\n            var remaining = elementBottom - windowBottom;\n            var shouldGetMore = (remaining - parseInt(scope.distance ||\n              0, 10) <= 0);\n\n            if (shouldGetMore) {\n              $timeout(scope.callback);\n            }\n          };\n\n          scope.$watch('disabled', function(isDisabled) {\n            if (false === isDisabled) onScroll();\n          });\n\n          win.bind('scroll', onScroll);\n          scope.$on('$destroy', function() {\n            win.unbind('scroll', onScroll);\n          });\n          $timeout(onScroll);\n        }\n      };\n    });\n\n})(angular)\n\n(function(angular) {\n  angular.module('sarusApp').directive('ads', function(adInfo) {\n    return {\n      restrict: 'A',\n      scope: {\n        adClientId: '@',\n        adSlotId: '@'\n      },\n      templateUrl: 'app/directive/ads.tpl.html',\n      controller: function($scope) {\n        $scope.adClientId = adInfo.clientId;\n        (adsbygoogle = window.adsbygoogle || []).push({});\n      }\n    };\n  });\n})(angular);\n\n(function(module) {\n  module.constant('common', {\n    numberOfRecordsPerPage: 1,\n    URL: 'http://sarus-openredesign.pantheonsite.io/api/'\n  });\n  module.constant('adInfo', {\n    clientId: 'ca-pub-7338620685919200'\n  })\n})(angular.module('sarusApp'));\n\n(function(module) {\n  module.config(function($locationProvider) {\n    $locationProvider.html5Mode(true);\n  });\n})(angular.module('sarusApp'));\n\n(function(module) {\n  module.config(function($stateProvider) {\n    var introState = {\n      name: \"intro\",\n      url: \"/intro\",\n      templateUrl: \"app/controller/get.html\",\n      controller: \"GetController as vm\"\n    };\n    $stateProvider.state(introState);\n  });\n})(angular.module('sarusApp'));\n\nangular.module('sarusApp')\n  .controller(\"GetController\", function(SarusFetch, $sce, common) {\n    var vm = this;\n    vm.trustAsHtml = $sce.trustAsHtml;\n    vm.pageNumber = 1;\n    vm.numberOfRecordsPerPage = common.numberOfRecordsPerPage;\n    vm.nids = [{\n      \"nid\": \"21700\"\n    }, {\n      \"nid\": \"21699\"\n    }, {\n      \"nid\": \"21698\"\n    }, {\n      \"nid\": \"21697\"\n    }, {\n      \"nid\": \"21696\"\n    }, {\n      \"nid\": \"21693\"\n    }, {\n      \"nid\": \"21692\"\n    }, {\n      \"nid\": \"21691\"\n    }, {\n      \"nid\": \"21690\"\n    }, {\n      \"nid\": \"21689\"\n    }, {\n      \"nid\": \"21688\"\n    }, {\n      \"nid\": \"21687\"\n    }, {\n      \"nid\": \"21686\"\n    }, {\n      \"nid\": \"21683\"\n    }, {\n      \"nid\": \"21682\"\n    }, {\n      \"nid\": \"21681\"\n    }, {\n      \"nid\": \"21680\"\n    }, {\n      \"nid\": \"21679\"\n    }, {\n      \"nid\": \"21678\"\n    }];\n    vm.sarus = new SarusFetch();\n  });\n\nangular.module(\"sarusApp\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/controller/get-view.tpl.html\",\"<div layout=row layout-xs=column><div flex>{{item.body[0].value}}</div><div flex=20><div ads ad-slot-id=5291848238></div></div></div>\");\n$templateCache.put(\"app/controller/get.html\",\"<style>.chat {\\n    }\\n    .chat .item {\\n      min-height:700px;\\n      list-style-type: none;\\n      border: 0 dotted #ddd;\\n      border-bottom-width: 1px;\\n      width: 80%;\\n      margin: auto;\\n    }</style><div class=chat infinite-scroll-distance=1 infinite-scroll-disabled=vm.sarus.busy infinite-scroll=vm.sarus.nextPage(vm.nids[vm.sarus.index].nid)><div><div class=item update-url={{$index}} ng-repeat=\\\"item in vm.sarus.items track by $index\\\"><sarus-item sarus-template=app/controller/get-view.tpl.html item=item></sarus-item></div></div></div>\");\n$templateCache.put(\"app/directive/ads.tpl.html\",\"<ins class=adsbygoogle style=display:inline-block;width:300px;height:600px data-ad-client={{adClientId}} data-ad-slot={{adSlotId}}></ins>\");\n$templateCache.put(\"app/directive/sarus-item.tpl.html\",\"<div ng-include src=sarusTemplate></div>\");}]);"],"sourceRoot":"/source/"}